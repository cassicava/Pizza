html[data-theme="dark"] {
  --bg: #000000;
  --fg: #e1e1e1;
  --muted: #a0a0a0;
  --card: #1c1c1e;
  --border: #4a4a4a;
  --topbar-bg: #000000;
  --shadow: 0 4px 18px rgba(0, 0, 0, .4);
}

html[data-theme="dark"] #sidebar {
  background-color: rgba(30, 30, 30, 0.75);
  border-right: 1px solid rgba(255, 255, 255, 0.1);
}

html[data-theme="dark"] .card {
  background-color: rgba(42, 42, 42, 0.75);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

html[data-theme="dark"] .modal {
  background-color: var(--card);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

html[data-theme="dark"] .home-card {
  border: 1px solid rgba(255, 255, 255, 0.15);
}

/* --- INÍCIO DA ALTERAÇÃO: Estilo do Explanation Box para Dark Theme --- */
html[data-theme="dark"] .explanation-box {
    background-color: rgba(37, 99, 235, 0.1); /* Azul (brand) com baixa opacidade */
    border-left-color: #60a5fa; /* Variação mais clara do azul para a borda */
    color: var(--muted);
}
/* --- FIM DA ALTERAÇÃO --- */

html[data-theme="dark"] .regras-fieldset {
  background-color: rgba(0, 0, 0, 0.2);
}

html[data-theme="dark"] .tab-btn.active .tab-icon {
  background-color: var(--brand-2);
}

html[data-theme="dark"] label.invalid-label {
  color: #f87171;
}

html[data-theme="dark"] input.invalid,
html[data-theme="dark"] select.invalid {
  border-color: #f87171;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3);
}

html[data-theme="dark"] input:focus,
html[data-theme="dark"] select:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.4);
}

html[data-theme="dark"] button {
  background-color: transparent;
}

html[data-theme="dark"] button.primary {
  color: var(--fg);
}

html[data-theme="dark"] button.secondary {
  color: var(--fg);
}

html[data-theme="dark"] button.primary:hover {
  background: var(--brand);
  color: #fff;
}

html[data-theme="dark"] button.success {
    border-color: #4ade80;
    color: #bbf7d0;
    background-color: rgba(34, 197, 94, 0.1);
}
html[data-theme="dark"] button.success:hover {
    background: #22c55e;
    color: #14532d;
}

html[data-theme="dark"] button.secondary:hover {
  background: var(--secondary);
  color: #fff;
}

html[data-theme="dark"] button.danger:hover {
  background: var(--danger);
  color: #fff;
}

html[data-theme="dark"] .tab-btn,
html[data-theme="dark"] .tab-btn:hover {
  background-color: transparent;
}


html[data-theme="dark"] .table thead th {
  background: #333333;
}

html[data-theme="dark"] .table .group-header.warning {
  background-color: #4a420c;
  color: #fef9c3;
}

html[data-theme="dark"] .escala-final-table tbody tr:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.03);
}

html[data-theme="dark"] .escala-final-table tbody tr:nth-child(even) td:first-child {
  background-color: rgba(255, 255, 255, 0.04);
}


html[data-theme="dark"] .check-inline:not(:has(input:checked)):hover {
  background-color: rgba(255, 255, 255, 0.05);
}

html[data-theme="dark"] .check-inline:has(input:checked) {
  border-color: var(--brand);
  background-color: var(--brand-2);
}

html[data-theme="dark"] .toggle-btn:hover:not(.active) {
  background-color: rgba(255, 255, 255, 0.05);
}

html[data-theme="dark"] .toggle-btn.active {
  background-color: var(--card);
  color: #60a5fa;
  border-color: #60a5fa;
}

html[data-theme="dark"] .dia-label:has(.dia-checkbox:checked) .dia-abrev,
html[data-theme="dark"] .turno-disponibilidade-dias .dia-selecionavel.selecionado-dia {
  color: #60a5fa;
}

html[data-theme="dark"] .turno-disponibilidade-item.selecionado {
    background-color: rgba(37, 99, 235, 0.15); 
}
html[data-theme="dark"] .turno-disponibilidade-item.selecionado .turno-disponibilidade-header:hover {
    background-color: rgba(37, 99, 235, 0.2);
}

html[data-theme="dark"] input[type="time"],
html[data-theme="dark"] input[type="date"] {
    color-scheme: dark;
}

html[data-theme="dark"] ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}
html[data-theme="dark"] ::-webkit-scrollbar-track {
  background: var(--bg);
}
html[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background-color: var(--secondary);
  border-radius: 10px;
  border: 3px solid var(--bg);
}
html[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background-color: var(--muted);
}

html[data-theme="dark"] .escala-final-table td[style*="background-color"] {
    filter: brightness(0.8) saturate(0.9);
}

html[data-theme="dark"] .escala-final-table tfoot .vagas-row {
    background-color: rgba(255, 255, 255, 0.05);
}

html[data-theme="dark"] .celula-hora-extra {
    background-image: repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 4px,
        rgba(255, 255, 255, 0.08) 4px,
        rgba(255, 255, 255, 0.08) 8px
    ) !important;
}