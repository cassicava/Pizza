/**************************************
 * ✨ Campos de Formulário Animados (Floating Label)
 **************************************/

/* --- Container Principal para o Campo Animado --- */
.animated-field {
    position: relative;
}

/* --- Estilo do Input --- */
.animated-field input,
.animated-field select {
    width: 100%;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    
    border: 1px solid var(--border);
    border-radius: 12px;

    background-color: transparent;
    padding: 12px;
    font-size: 1rem;
    color: var(--fg);
    transition: border-color 0.2s ease-in-out;
}

/* Remove o fundo branco do autofill do Chrome */
.animated-field input:-webkit-autofill,
.animated-field input:-webkit-autofill:hover,
.animated-field input:-webkit-autofill:focus,
.animated-field input:-webkit-autofill:active {
    -webkit-text-fill-color: var(--fg);
    -webkit-box-shadow: 0 0 0 30px var(--bg) inset !important;
    transition: background-color 5000s ease-in-out 0s;
}

.animated-field input:focus,
.animated-field select:focus {
    outline: none;
    border-color: var(--brand);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.3);
}

/* --- Estilo e Animação do Label --- */
.animated-field label {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    left: 13px;
    
    color: var(--muted);
    pointer-events: none;
    transition: all 0.2s ease-in-out;
    font-size: 1rem;
    background-color: var(--card);
    padding: 0 4px;
}

/* NOVA REGRA: Ajusta o fundo da label para campos dentro de fieldsets */
.fieldset-wrapper .animated-field label,
.regras-fieldset .animated-field label {
    background-color: var(--bg);
}


/* O "MÁGICO": Anima o label para cima quando o input está em foco ou preenchido */
.animated-field input:focus + label,
.animated-field input:not(:placeholder-shown) + label {
    top: -9px;
    transform: translateY(0);
    font-size: 0.8rem;
    color: var(--brand);
}

/* --- Fieldset para Seletores e Itens não-texto --- */
.fieldset-wrapper {
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 12px 16px 16px 16px;
    /* ALTERADO: Margem vertical diminuída */
    margin-top: 12px;
    position: relative;
    transition: border-color 0.2s;
}

/* * ALTERADO: Efeito de foco agora se aplica a TODOS os fieldsets,
 * tanto os antigos quanto os novos com a classe .fieldset-wrapper,
 * garantindo consistência visual em toda a aplicação.
*/
fieldset:focus-within,
.fieldset-wrapper:focus-within {
    border-color: var(--brand);
}
fieldset:focus-within > legend, /* O seletor ">" garante que só o legend direto seja afetado */
.fieldset-wrapper:focus-within legend {
    color: var(--brand);
}